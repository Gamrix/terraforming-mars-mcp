# Bugs Encountered While Playing

## 2026-02-11

- `select_initial_cards` rejected `prelude_cards` when passed as a comma-separated string.
  - Error: validation expects a list type for `prelude_cards`.
  - Repro: call `select_initial_cards` with `"prelude_cards":"Business Empire, Aquifer Turbines"` instead of `["Business Empire","Aquifer Turbines"]`.

- `choose_or_option` requires `sub_response_json` as a JSON string, but the tool/schema behavior is easy to mis-send as an object.
  - Error: validation failure when a nested object is passed directly instead of JSON-encoded text.

- `projectCard` raw payload payment validation is strict and fails without the full payment shape.
  - Error observed: `payment is not a valid type` when sending partial payment fields.
  - Workaround: include all payment keys with zero defaults.

- Intermittent MCP call timeouts/connection failures during active game loop.
  - Errors observed: 60s tool-call deadline exceeded; `Cannot reach server at http://localhost:8080` / connection refused.
  - Impact: turn automation interrupted and requires manual server recovery.

- Board-space bonus/resource visibility is encoded but not self-describing in MCP responses.
  - `get_mars_board_state` exposes `bonus` as numeric codes (for example `[1,1]`) without a legend mapping to resource names.
  - Impact: agents cannot reliably infer per-space resource types from MCP output alone.

- Corporation/Prelude selection context is under-specified in initial choice prompt.
  - During `initialCards`, corporation and prelude options were listed by name but without explicit effect text in the surfaced MCP details.
  - Impact: precise selection can depend on external game knowledge unless the agent separately loads card databases/full model.

- Initial project-card buy prompt lacks clear card-effect visibility.
  - During `initialCards` -> "Select initial cards to buy", cards were effectively selected from name/cost without explicit effect text in the surfaced decision context.
  - Impact: opening hand purchases may rely on prior card knowledge instead of fully informed MCP prompt data.
